<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>éŠæˆ²ä¸­å¿ƒ - ä¸‰å¤§éŠæˆ²</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    :root {
      --glow-cyan: #00ffff;
      --glow-magenta: #a259ff;
      --glow-gold: #ffd700;
      --glow-red: #ff6b6b;
      --glow-green: #00ff88;
      --bg-dark: rgba(10, 20, 40, 0.85);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Orbitron', 'Noto Sans TC', 'Microsoft JhengHei', Arial, sans-serif;
      background: linear-gradient(135deg, #0a1428 0%, #1a2a4a 50%, #0a1428 100%);
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* èƒŒæ™¯å‹•ç•«æ•ˆæœ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(162, 89, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(255, 215, 0, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    .header {
      background: rgba(10, 20, 40, 0.95);
      padding: 20px;
      text-align: center;
      border-bottom: 3px solid var(--glow-cyan);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
      backdrop-filter: blur(10px);
    }

    .header h1 {
      margin: 0;
      font-size: 2.5rem;
      background: linear-gradient(45deg, var(--glow-cyan), var(--glow-magenta), var(--glow-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { filter: brightness(1); }
      to { filter: brightness(1.2); }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .stats-panel {
      background: rgba(10, 20, 40, 0.9);
      border: 2px solid var(--glow-gold);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .stat-item {
      text-align: center;
      padding: 15px;
      background: rgba(0, 255, 255, 0.1);
      border-radius: 8px;
      border: 1px solid var(--glow-cyan);
    }

    .stat-value {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--glow-gold);
    }

    .stat-label {
      color: #ccc;
      font-size: 0.9rem;
      margin-top: 5px;
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-top: 20px;
    }

    .game-card {
      background: rgba(10, 20, 40, 0.8);
      border: 3px solid var(--glow-cyan);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      text-align: center;
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .game-card:hover::before {
      left: 100%;
    }

    .game-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.4);
      border-color: var(--glow-magenta);
    }

    .game-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      display: block;
    }

    .game-title {
      font-size: 2rem;
      font-weight: bold;
      color: var(--glow-cyan);
      margin-bottom: 15px;
    }

    .game-subtitle {
      font-size: 1.1rem;
      color: var(--glow-gold);
      margin-bottom: 20px;
    }

    .game-description {
      color: #ccc;
      line-height: 1.6;
      margin-bottom: 25px;
      font-size: 1rem;
    }

    .game-features {
      text-align: left;
      margin-bottom: 25px;
      padding: 0 20px;
    }

    .feature-item {
      color: #ccc;
      margin-bottom: 8px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
    }

    .feature-item::before {
      content: 'âœ“';
      color: var(--glow-green);
      font-weight: bold;
      margin-right: 10px;
    }

    .game-button {
      background: linear-gradient(45deg, var(--glow-cyan), var(--glow-magenta));
      color: #000;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-weight: bold;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .game-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
    }

    /* é–å®šç‹€æ…‹æ¨£å¼ */
    .game-card.locked {
      opacity: 0.6;
      cursor: not-allowed;
      border-color: var(--glow-red);
      box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
    }

    .game-card.locked:hover {
      transform: none;
      box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
      border-color: var(--glow-red);
    }

    .game-card.locked::before {
      display: none;
    }

    .game-button.locked {
      background: linear-gradient(45deg, #666, #999);
      color: #ccc;
      cursor: not-allowed;
      opacity: 0.8;
    }

    .game-button.locked:hover {
      transform: none;
      box-shadow: none;
    }

    .game-button[disabled] {
      cursor: not-allowed;
      pointer-events: none;
      opacity: 0.6;
    }

    .game-button.locked {
      background: linear-gradient(45deg, #666, #999);
      color: #ccc;
      cursor: not-allowed;
      opacity: 0.8;
    }

    .game-button.locked:hover {
      transform: none;
      box-shadow: none;
    }

    /* åµŒå…¥å¼éŠæˆ²å®¹å™¨æ¨£å¼ */
    .embedded-game-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 20, 40, 0.95);
      z-index: 2000;
      display: flex;
      flex-direction: column;
    }

    .embedded-game-header {
      background: rgba(10, 20, 40, 0.98);
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--glow-cyan);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }

    .embedded-game-header h2 {
      margin: 0;
      color: var(--glow-cyan);
      font-size: 1.5rem;
    }

    .close-game-btn {
      background: linear-gradient(45deg, var(--glow-red), var(--glow-magenta));
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .close-game-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
    }

    .embedded-game-frame {
      flex: 1;
      width: 100%;
      background: #000;
    }

    .embedded-game-frame iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .back-button {
      position: fixed;
      top: 20px;
      left: 20px;
      background: linear-gradient(45deg, var(--glow-cyan), var(--glow-magenta));
      color: #000;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .back-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    }

    .welcome-message {
      background: rgba(10, 20, 40, 0.9);
      border: 2px solid var(--glow-cyan);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      text-align: center;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
    }

    .welcome-title {
      font-size: 1.5rem;
      color: var(--glow-cyan);
      margin-bottom: 10px;
    }

    .welcome-text {
      color: #ccc;
      line-height: 1.6;
    }

    /* æ˜Ÿæ˜Ÿé¡¯ç¤ºå€åŸŸ */
    .stars-display {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
      border: 2px solid var(--glow-gold);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      text-align: center;
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
      position: relative;
      overflow: hidden;
    }

    .stars-display::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { left: -100%; }
      50% { left: 100%; }
      100% { left: 100%; }
    }

    .stars-title {
      font-size: 1.8rem;
      color: var(--glow-gold);
      margin-bottom: 10px;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    .stars-count {
      font-size: 3rem;
      font-weight: bold;
      color: var(--glow-gold);
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
      margin-bottom: 10px;
    }

    .stars-icon {
      font-size: 2rem;
      margin: 0 10px;
      animation: twinkle 2s ease-in-out infinite alternate;
    }

    @keyframes twinkle {
      from { transform: scale(1); opacity: 1; }
      to { transform: scale(1.2); opacity: 0.8; }
    }

    .stars-subtitle {
      color: #ccc;
      font-size: 1rem;
      margin-top: 10px;
    }

    /* æ˜Ÿæ˜Ÿæ›´æ–°å‹•ç•« */
    .stars-update {
      animation: starsUpdate 0.5s ease-in-out;
    }

    @keyframes starsUpdate {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); box-shadow: 0 0 50px rgba(255, 215, 0, 0.6); }
      100% { transform: scale(1); }
    }

    /* éŸ³æ•ˆæ§åˆ¶ */
    #audioControls {
      position: fixed;
      bottom: 15px;
      right: 15px;
      display: flex;
      gap: 8px;
    }

    #audioControls button {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      border: 2px solid var(--glow-cyan);
      background: rgba(10, 20, 40, 0.6);
      color: #fff;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 0 16px var(--glow-cyan);
      backdrop-filter: blur(1px);
    }

    #audioControls button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 32px var(--glow-cyan);
    }

    @media (max-width: 768px) {
      .games-grid {
        grid-template-columns: 1fr;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .container {
        padding: 10px;
      }

      .game-card {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <button class="back-button" @click="goHome">
      <i class="material-icons">home</i> è¿”å›é¦–é 
    </button>

         <div class="header">
                     <h1>ğŸ® å…«å¤§éŠæˆ²ä¸­å¿ƒ</h1>
     </div>

    <div class="container">
      <!-- æ­¡è¿è¨Šæ¯ -->
      <div class="welcome-message">
        <div class="welcome-title">æ­¡è¿ä¾†åˆ°éŠæˆ²ä¸­å¿ƒï¼</div>
                               <div class="welcome-text">
            é€™è£¡æœ‰æˆ‘å€‘ç²¾å¿ƒè¨­è¨ˆçš„å…«å€‹ç²¾å½©éŠæˆ²ï¼Œæ¯å€‹éŠæˆ²éƒ½æœ‰ç¨ç‰¹çš„ç©æ³•å’ŒæŒ‘æˆ°ã€‚
            é¸æ“‡ä½ å–œæ­¡çš„éŠæˆ²é–‹å§‹å†’éšªå§ï¼
              </div>
      </div>

             <!-- æ˜Ÿæ˜Ÿé¡¯ç¤ºå€åŸŸ -->
       <div class="stars-display" :class="{ 'stars-update': starsAnimation }">
         <div class="stars-title">ä½ çš„æ˜Ÿæ˜Ÿ</div>
         <div class="stars-count">{{ totalStars }}</div>
         <div class="stars-icon">â­</div>
         <div class="stars-subtitle">æ”¶é›†æ˜Ÿæ˜Ÿï¼Œè§£é–æ›´å¤šéŠæˆ²ï¼</div>
         
         <!-- æ˜Ÿæ˜Ÿè©³ç´°è³‡è¨Š -->
         <div style="margin-top: 15px; padding: 10px; background: rgba(255, 215, 0, 0.1); border-radius: 8px;">
           <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9rem;">
             <div>
               <div style="color: var(--glow-green);">ç²å¾—: {{ totalStarsEarned }}</div>
               <div style="color: var(--glow-red);">èŠ±è²»: {{ starsSpent }}</div>
             </div>
             <div>
               <div style="color: var(--glow-cyan);">ç­‰ç´š: {{ playerLevel }}</div>
               <div style="color: var(--glow-gold);">é€²åº¦: {{ levelProgressPercentage }}%</div>
             </div>
           </div>
         </div>
         
                   <div style="color: #999; font-size: 0.8rem; margin-top: 5px;">ğŸ’¡ æç¤ºï¼šéŠç©å…¶ä»–éŠæˆ²å¯ä»¥ç²å¾—æ˜Ÿæ˜Ÿ</div>
          <div style="color: var(--glow-cyan); font-size: 0.8rem; margin-top: 3px;">ğŸ”„ æ˜Ÿæ˜Ÿç³»çµ±å·²èˆ‡é¦–é åŒæ­¥</div>
       </div>

      <!-- çµ±è¨ˆé¢æ¿ -->
      <div class="stats-panel">
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value">{{ availableGames }}/{{ totalGames }}</div>
            <div class="stat-label">å¯ç”¨éŠæˆ²</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">{{ completedGames }}</div>
            <div class="stat-label">å·²å®Œæˆ</div>
          </div>
          <div class="stat-item" style="background: rgba(255, 215, 0, 0.15); border-color: var(--glow-gold);">
            <div class="stat-value" style="color: var(--glow-gold); text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);">â­ {{ totalStars }}</div>
            <div class="stat-label" style="color: var(--glow-gold);">ç¸½æ˜Ÿæ˜Ÿ</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">{{ playerLevel }}</div>
            <div class="stat-label">ç©å®¶ç­‰ç´š</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">{{ completionRate }}%</div>
            <div class="stat-label">å®Œæˆç‡</div>
          </div>
        </div>
      </div>

      <!-- éŠæˆ²å¡ç‰‡ -->
      <div class="games-grid">
                 <!-- æ‹‰éœ¸æ©ŸéŠæˆ² -->
         <div class="game-card" :class="{ locked: !canPlaySlotMachine }" @click="toggleSlotMachine">
           <div class="game-icon">ğŸ°</div>
           <div class="game-title">æ‹‰éœ¸æ©ŸéŠæˆ²</div>
           <div class="game-subtitle">ç¶“å…¸ä¸‰é€£ç·šéŠæˆ²</div>
           <div class="game-description">
             ç¶“å…¸çš„æ‹‰éœ¸æ©ŸéŠæˆ²ï¼Œè½‰å‹•æ‹‰éœ¸æ©Ÿç²å¾—ä¸‰å€‹ç›¸åŒåœ–æ¡ˆå³å¯ç²å‹ã€‚
             éŠæˆ²åŒ…å«è¯éº—çš„è¦–è¦ºæ•ˆæœå’Œå‹•ç•«ï¼Œè®“æ‚¨é«”é©—çœŸæ­£çš„æ‹‰éœ¸æ©Ÿæ¨‚è¶£ã€‚
           </div>
           <div class="game-features">
             <div class="feature-item">ç¶“å…¸æ‹‰éœ¸æ©Ÿç©æ³•</div>
             <div class="feature-item">ä¸‰é€£ç·šç²å‹æ©Ÿåˆ¶</div>
             <div class="feature-item">è¯éº—è¦–è¦ºæ•ˆæœ</div>
             <div class="feature-item">å‹•æ…‹å‹•ç•«æ•ˆæœ</div>
             <div class="feature-item">åˆ†æ•¸çµ±è¨ˆç³»çµ±</div>
             <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ slotMachineCost }} é¡†æ˜Ÿæ˜Ÿ</div>
           </div>
           <button class="game-button" :class="{ locked: !canPlaySlotMachine }" @click.stop="toggleSlotMachine" :disabled="!canPlaySlotMachine">
             {{ canPlaySlotMachine ? 'é–‹å§‹æ‹‰éœ¸æ©ŸéŠæˆ²' : `éœ€è¦ ${slotMachineCost} é¡†æ˜Ÿæ˜Ÿ` }}
           </button>
         </div>

        <!-- å‹•ç‰©å¡ç‰Œ -->
        <div class="game-card" @click="openGame('advanced-animal-card-game.html')">
          <div class="game-icon">ğŸ¦</div>
          <div class="game-title">å‹•ç‰©å¡ç‰Œç›¸å…‹</div>
          <div class="game-subtitle">ç­–ç•¥æ€§å‹•ç‰©å°æˆ°</div>
          <div class="game-description">
            åŸºæ–¼å‹•ç‰©ç›¸å…‹åŸç†çš„ç­–ç•¥å¡ç‰ŒéŠæˆ²ï¼Œæ¯ç¨®å‹•ç‰©éƒ½æœ‰ç¨ç‰¹çš„èƒ½åŠ›å’Œç›¸å…‹é—œä¿‚ã€‚
            é‹ç”¨ç­–ç•¥çµ„åˆä½ çš„å¡ç‰Œï¼Œæ“Šæ•—å°æ‰‹ç²å¾—å‹åˆ©ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">å¤šç¨®å‹•ç‰©å¡ç‰Œ</div>
            <div class="feature-item">ç›¸å…‹ç³»çµ±è¨­è¨ˆ</div>
            <div class="feature-item">ç­–ç•¥æ€§ç©æ³•</div>
            <div class="feature-item">ç²¾ç¾å‹•ç‰©æ’åœ–</div>
            <div class="feature-item">é€²éšAIå°æ‰‹</div>
          </div>
          <button class="game-button">é–‹å§‹å‹•ç‰©å¡ç‰Œ</button>
        </div>

        <!-- å¡ç‰Œå°æˆ° -->
        <div class="game-card" @click="openGame('battle_system.html')">
          <div class="game-icon">âš”ï¸</div>
          <div class="game-title">å¡ç‰Œå°æˆ°ç³»çµ±</div>
          <div class="game-subtitle">å²è©©ç´šå¡ç‰Œæˆ°é¬¥</div>
          <div class="game-description">
            å®Œæ•´çš„å¡ç‰Œå°æˆ°ç³»çµ±ï¼ŒåŒ…å«æ”»æ“Šã€é˜²ç¦¦ã€ç‰¹æ®ŠæŠ€èƒ½ç­‰å¤šç¨®æˆ°é¬¥æ©Ÿåˆ¶ã€‚
            æ”¶é›†å¼·å¤§å¡ç‰Œï¼Œçµ„å»ºä½ çš„ç‰Œçµ„ï¼Œåœ¨æ¿€çƒˆçš„å°æˆ°ä¸­è­‰æ˜ä½ çš„å¯¦åŠ›ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">å®Œæ•´æˆ°é¬¥ç³»çµ±</div>
            <div class="feature-item">å¤šç¨®å¡ç‰Œé¡å‹</div>
            <div class="feature-item">ç‰¹æ®ŠæŠ€èƒ½æ•ˆæœ</div>
            <div class="feature-item">å‹•æ…‹æˆ°é¬¥å‹•ç•«</div>
            <div class="feature-item">ç‰Œçµ„ç®¡ç†ç³»çµ±</div>
          </div>
          <button class="game-button">é–‹å§‹å¡ç‰Œå°æˆ°</button>
        </div>

         <!-- Tetris éŠæˆ² -->
        <div class="game-card" :class="{ locked: !canPlayTetris }" @click="toggleTetris">
          <div class="game-icon">ğŸ§©</div>
          <div class="game-title">Tetris</div>
          <div class="game-subtitle">ç¶“å…¸ä¿„ç¾…æ–¯æ–¹å¡Š</div>
          <div class="game-description">
            ç¶“å…¸çš„ä¿„ç¾…æ–¯æ–¹å¡ŠéŠæˆ²ï¼Œé€šéæ—‹è½‰å’Œç§»å‹•ä¸åŒå½¢ç‹€çš„æ–¹å¡Šä¾†æ¶ˆé™¤å®Œæ•´çš„æ©«è¡Œã€‚
            éŠæˆ²åŒ…å«å¤šç¨®é›£åº¦ç­‰ç´šå’Œæµæš¢çš„æ“ä½œé«”é©—ï¼Œè€ƒé©—ä½ çš„ç©ºé–“æ€ç¶­å’Œåæ‡‰é€Ÿåº¦ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç¶“å…¸æ–¹å¡Šç©æ³•</div>
            <div class="feature-item">å¤šç¨®æ–¹å¡Šå½¢ç‹€</div>
            <div class="feature-item">ç©ºé–“æ€ç¶­æŒ‘æˆ°</div>
            <div class="feature-item">æµæš¢æ“ä½œé«”é©—</div>
            <div class="feature-item">åˆ†æ•¸çµ±è¨ˆç³»çµ±</div>
            <div class="feature-item">å¤šç¨®é›£åº¦ç­‰ç´š</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ tetrisCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayTetris }" @click.stop="toggleTetris" :disabled="!canPlayTetris">
            {{ canPlayTetris ? 'é–‹å§‹ Tetris' : `éœ€è¦ ${tetrisCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>

         <!-- Classic Uno éŠæˆ² -->
        <div class="game-card" :class="{ locked: !canPlayClassicUno }" @click="toggleClassicUno">
          <div class="game-icon">ğŸƒ</div>
          <div class="game-title">Classic Uno</div>
          <div class="game-subtitle">ç¶“å…¸å¡ç‰ŒéŠæˆ²</div>
          <div class="game-description">
            ç¶“å…¸çš„ Uno å¡ç‰ŒéŠæˆ²ï¼Œé€šéå‡ºç‰Œå’Œç‰¹æ®Šå¡ç‰Œæ•ˆæœä¾†æ¸…ç©ºæ‰‹ç‰Œã€‚
            éŠæˆ²åŒ…å«å¤šç¨®éŠæˆ²æ¨¡å¼å’Œç­–ç•¥ç©æ³•ï¼Œè€ƒé©—ä½ çš„å¡ç‰ŒæŠ€å·§å’Œç­–ç•¥æ€ç¶­ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç¶“å…¸ Uno ç©æ³•</div>
            <div class="feature-item">å¤šç¨®ç‰¹æ®Šå¡ç‰Œ</div>
            <div class="feature-item">ç­–ç•¥æ€ç¶­æŒ‘æˆ°</div>
            <div class="feature-item">æµæš¢éŠæˆ²é«”é©—</div>
            <div class="feature-item">å¤šäººéŠæˆ²æ¨¡å¼</div>
            <div class="feature-item">åˆ†æ•¸çµ±è¨ˆç³»çµ±</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ classicUnoCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayClassicUno }" @click.stop="toggleClassicUno" :disabled="!canPlayClassicUno">
            {{ canPlayClassicUno ? 'é–‹å§‹ Classic Uno' : `éœ€è¦ ${classicUnoCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>

         <!-- Little Wheel éŠæˆ² -->
        <div class="game-card" :class="{ locked: !canPlayLittleWheel }" @click="toggleLittleWheel">
          <div class="game-icon">ğŸ¡</div>
          <div class="game-title">Little Wheel</div>
          <div class="game-subtitle">å°è¼ªå­å†’éšªéŠæˆ²</div>
          <div class="game-description">
            æœ‰è¶£çš„å°è¼ªå­å†’éšªéŠæˆ²ï¼Œæ§åˆ¶å°è¼ªå­åœ¨å„ç¨®åœ°å½¢ä¸Šæ»¾å‹•å’Œè·³èºã€‚
            éŠæˆ²åŒ…å«è±å¯Œçš„é—œå¡è¨­è¨ˆå’Œç‰©ç†æ•ˆæœï¼Œè€ƒé©—ä½ çš„åæ‡‰èƒ½åŠ›å’Œæ“ä½œæŠ€å·§ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç‰©ç†å¼•æ“éŠæˆ²</div>
            <div class="feature-item">è±å¯Œé—œå¡è¨­è¨ˆ</div>
            <div class="feature-item">åæ‡‰èƒ½åŠ›æŒ‘æˆ°</div>
            <div class="feature-item">æµæš¢æ“ä½œé«”é©—</div>
            <div class="feature-item">å¤šç¨®åœ°å½¢è®ŠåŒ–</div>
            <div class="feature-item">æ”¶é›†è¦ç´ ç³»çµ±</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ littleWheelCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayLittleWheel }" @click.stop="toggleLittleWheel" :disabled="!canPlayLittleWheel">
            {{ canPlayLittleWheel ? 'é–‹å§‹ Little Wheel' : `éœ€è¦ ${littleWheelCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>

         <!-- Plants vs Zombies Demo éŠæˆ² -->
        <div class="game-card" :class="{ locked: !canPlayPlantsVsZombies }" @click="togglePlantsVsZombies">
          <div class="game-icon">ğŸŒ±</div>
          <div class="game-title">Plants vs Zombies Demo</div>
          <div class="game-subtitle">æ¤ç‰©å¤§æˆ°æ®­å±è©¦ç©ç‰ˆ</div>
          <div class="game-description">
            ç¶“å…¸çš„å¡”é˜²éŠæˆ²ï¼Œç¨®æ¤å„ç¨®æ¤ç‰©ä¾†æŠµç¦¦æ®­å±çš„é€²æ”»ã€‚
            éŠæˆ²åŒ…å«è±å¯Œçš„æ¤ç‰©ç¨®é¡å’Œç­–ç•¥ç©æ³•ï¼Œè€ƒé©—ä½ çš„æˆ°ç•¥æ€ç¶­èƒ½åŠ›ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç¶“å…¸å¡”é˜²ç©æ³•</div>
            <div class="feature-item">è±å¯Œæ¤ç‰©ç¨®é¡</div>
            <div class="feature-item">ç­–ç•¥æ€ç¶­æŒ‘æˆ°</div>
            <div class="feature-item">å¤šæ¨£åŒ–æ®­å±</div>
            <div class="feature-item">é—œå¡é€²éšè¨­è¨ˆ</div>
            <div class="feature-item">é™½å…‰æ”¶é›†ç³»çµ±</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ plantsVsZombiesCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayPlantsVsZombies }" @click.stop="togglePlantsVsZombies" :disabled="!canPlayPlantsVsZombies">
            {{ canPlayPlantsVsZombies ? 'é–‹å§‹ Plants vs Zombies Demo' : `éœ€è¦ ${plantsVsZombiesCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>

         <!-- Cut the Rope 2 -->
        <div class="game-card" :class="{ locked: !canPlayCutTheRope }" @click="toggleCutTheRope">
          <div class="game-icon">ğŸ­</div>
          <div class="game-title">Cut the Rope 2</div>
          <div class="game-subtitle">ç¶“å…¸ç‰©ç†ç›Šæ™ºéŠæˆ²</div>
          <div class="game-description">
            ç¶“å…¸çš„ç‰©ç†ç›Šæ™ºéŠæˆ²ï¼Œé€šéåˆ‡æ–·ç¹©å­è®“ç³–æœè½å…¥å°æ€ªç‰©çš„å£ä¸­ã€‚
            éŠæˆ²åŒ…å«è±å¯Œçš„é—œå¡è¨­è¨ˆå’Œæœ‰è¶£çš„ç‰©ç†æ•ˆæœï¼Œè€ƒé©—ä½ çš„é‚è¼¯æ€ç¶­èƒ½åŠ›ï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç¶“å…¸ç‰©ç†ç©æ³•</div>
            <div class="feature-item">è±å¯Œé—œå¡è¨­è¨ˆ</div>
            <div class="feature-item">é‚è¼¯æ€ç¶­æŒ‘æˆ°</div>
            <div class="feature-item">å¯æ„›éŠæˆ²è§’è‰²</div>
            <div class="feature-item">æµæš¢éŠæˆ²é«”é©—</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ cutTheRopeCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayCutTheRope }" @click.stop="toggleCutTheRope" :disabled="!canPlayCutTheRope">
            {{ canPlayCutTheRope ? 'é–‹å§‹Cut the Rope 2' : `éœ€è¦ ${cutTheRopeCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>

         <!-- Motherload éŠæˆ² -->
        <div class="game-card" :class="{ locked: !canPlayMotherload }" @click="toggleMotherload">
          <div class="game-icon">â›ï¸</div>
          <div class="game-title">Motherload</div>
          <div class="game-subtitle">ç«æ˜Ÿæ¡ç¤¦å†’éšª</div>
          <div class="game-description">
            å¼•äººå…¥å‹çš„åŸºæ–¼ç€è¦½å™¨çš„æ¡ç¤¦å†’éšªéŠæˆ²ï¼Œå°‡ä½ å¸¶å…¥ç«æ˜Ÿçš„åœ°è¡¨ä¹‹ä¸‹ã€‚
            ä½œç‚ºä¸€å®¶æœªä¾†æ´¾å…¬å¸çš„å‹‡æ•¢ç¤¦å·¥ï¼Œä½ çš„ç›®æ¨™æ˜¯æ·±å…¥åœŸå£¤ã€å²©çŸ³å’Œç¤¦ç‰©å±¤ï¼Œæ”¶é›†å¯¶è²´è³‡æºï¼
          </div>
          <div class="game-features">
            <div class="feature-item">ç«æ˜Ÿæ¡ç¤¦å†’éšª</div>
            <div class="feature-item">è³‡æºç®¡ç†ç³»çµ±</div>
            <div class="feature-item">è¨­å‚™å‡ç´šç³»çµ±</div>
            <div class="feature-item">æ·±åº¦æ¢ç´¢ç©æ³•</div>
            <div class="feature-item">ç‡ƒæ–™ç®¡ç†æ©Ÿåˆ¶</div>
            <div class="feature-item">ç¨€æœ‰å¯¶è—ç™¼ç¾</div>
            <div class="feature-item" style="color: var(--glow-gold); font-weight: bold;">â­ éœ€è¦ {{ motherloadCost }} é¡†æ˜Ÿæ˜Ÿ</div>
          </div>
          <button class="game-button" :class="{ locked: !canPlayMotherload }" @click.stop="toggleMotherload" :disabled="!canPlayMotherload">
            {{ canPlayMotherload ? 'é–‹å§‹ Motherload' : `éœ€è¦ ${motherloadCost} é¡†æ˜Ÿæ˜Ÿ` }}
          </button>
        </div>
      </div>

      <!-- Cut the Rope 2 åµŒå…¥å¼éŠæˆ²å®¹å™¨ -->
      <div v-if="showCutTheRope" class="embedded-game-container">
        <div class="embedded-game-header">
          <h2>ğŸ­ Cut the Rope 2</h2>
          <button class="close-game-btn" @click="closeCutTheRope">
            <i class="material-icons">close</i>
          </button>
        </div>
        <div class="embedded-game-frame">
          <iframe 
            src="https://nutwg.com/cut-the-rope-2/"
            frameborder="0"
            allowfullscreen
            title="Cut the Rope 2">
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- éŸ³æ•ˆæ§åˆ¶ -->
  <div id="audioControls">
    <button id="toggleMusic" title="èƒŒæ™¯éŸ³æ¨‚">
      <span class="material-icons">music_note</span>
    </button>
  </div>

  <!-- éŸ³æ•ˆå…ƒç´  -->
  <audio id="typingSound" preload="auto">
    <source src="sound/type.mp3" type="audio/mpeg">
  </audio>

  <audio id="backgroundMusic" loop>
    <source src="sound/åˆå¾Œæ”¾é¬†æ™‚å…‰ï¼ˆç´”éŸ³æ¨‚ï¼‰.mp3" type="audio/mpeg">
  </audio>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          totalGames: 9,
          availableGames: 9,
          completedGames: 0,
          totalStars: 0,
          playerLevel: 1,
                     showCutTheRope: false,
                     cutTheRopeCost: 100, // Cut the Rope 2 éŠæˆ²æˆæœ¬
          slotMachineCost: 50, // æ‹‰éœ¸æ©ŸéŠæˆ²æˆæœ¬
          tetrisCost: 100, // Tetris éŠæˆ²æˆæœ¬
          classicUnoCost: 100, // Classic Uno éŠæˆ²æˆæœ¬
          littleWheelCost: 100, // Little Wheel éŠæˆ²æˆæœ¬
          plantsVsZombiesCost: 200, // Plants vs Zombies Demo éŠæˆ²æˆæœ¬
          motherloadCost: 300, // Motherload éŠæˆ²æˆæœ¬
          starsAnimation: false, // æ˜Ÿæ˜Ÿå‹•ç•«ç‹€æ…‹
          // æ–°å¢æ˜Ÿæ˜Ÿç³»çµ±ç›¸é—œæ•¸æ“š
          starsEarned: 0, // æœ¬å±€ç²å¾—çš„æ˜Ÿæ˜Ÿ
          totalStarsEarned: 0, // ç¸½å…±ç²å¾—çš„æ˜Ÿæ˜Ÿ
          starsSpent: 0, // èŠ±è²»çš„æ˜Ÿæ˜Ÿ
          achievements: [], // æˆå°±åˆ—è¡¨
          levelProgress: 0, // ç­‰ç´šé€²åº¦
          nextLevelStars: 100 // ä¸‹ä¸€ç­‰ç´šéœ€è¦çš„æ˜Ÿæ˜Ÿ
        }
      },
      computed: {
        completionRate() {
          return Math.round((this.completedGames / this.totalGames) * 100);
        },
                 canPlayCutTheRope() {
           return this.totalStars >= this.cutTheRopeCost;
         },
         canPlaySlotMachine() {
           return this.totalStars >= this.slotMachineCost;
         },
         canPlayTetris() {
           return this.totalStars >= this.tetrisCost;
         },
         canPlayClassicUno() {
           return this.totalStars >= this.classicUnoCost;
         },
         canPlayLittleWheel() {
           return this.totalStars >= this.littleWheelCost;
         },
         canPlayPlantsVsZombies() {
           return this.totalStars >= this.plantsVsZombiesCost;
         },
         canPlayMotherload() {
           return this.totalStars >= this.motherloadCost;
         },
        // æ–°å¢æ˜Ÿæ˜Ÿç³»çµ±è¨ˆç®—å±¬æ€§
        levelProgressPercentage() {
          return Math.round((this.totalStars % this.nextLevelStars) / this.nextLevelStars * 100);
        },
        canLevelUp() {
          return this.totalStars >= this.nextLevelStars;
        },
        starsEfficiency() {
          return this.totalStarsEarned > 0 ? Math.round((this.totalStars / this.totalStarsEarned) * 100) : 0;
        }
      },
      methods: {
                 openGame(gamePath) {
           // åœ¨æ–°è¦–çª—ä¸­æ‰“é–‹éŠæˆ²
           window.open(gamePath, '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿï¼ˆé€™è£¡å¯ä»¥æ ¹æ“šå¯¦éš›éŠæˆ²çµæœèª¿æ•´ï¼‰
           setTimeout(() => {
             const gameNames = {
               'advanced-animal-card-game.html': 'å‹•ç‰©å¡ç‰Œç›¸å…‹',
               'battle_system.html': 'å¡ç‰Œå°æˆ°ç³»çµ±',
               'https://tw.pigame.cc/game/tetris': 'Tetris'
             };
             
             const gameName = gameNames[gamePath] || 'éŠæˆ²';
             this.simulateGameCompletion(gameName);
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         openTetris() {
           // åœ¨æ–°è¦–çª—ä¸­æ‰“é–‹ Tetris éŠæˆ²
           window.open('https://tw.pigame.cc/game/tetris', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Tetris');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         toggleTetris() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.tetrisCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.tetrisCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Tetrisã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.tetrisCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸ§© é–‹å§‹éŠç© Tetrisï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.tetrisCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('https://tw.pigame.cc/game/tetris', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Tetris');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         toggleClassicUno() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.classicUnoCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.classicUnoCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Classic Unoã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.classicUnoCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸƒ é–‹å§‹éŠç© Classic Unoï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.classicUnoCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('https://tw.pigame.cc/game/classic-uno', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Classic Uno');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         toggleLittleWheel() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.littleWheelCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.littleWheelCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Little Wheelã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.littleWheelCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸ¡ é–‹å§‹éŠç© Little Wheelï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.littleWheelCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('https://omiplay.com/zh/games/little-wheel/', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Little Wheel');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         togglePlantsVsZombies() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.plantsVsZombiesCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.plantsVsZombiesCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Plants vs Zombies Demoã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.plantsVsZombiesCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸŒ± é–‹å§‹éŠç© Plants vs Zombies Demoï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.plantsVsZombiesCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('https://omiplay.com/zh/games/plants-vs-zombies-demo/', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Plants vs Zombies Demo');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
         toggleMotherload() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.motherloadCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.motherloadCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Motherloadã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.motherloadCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`â›ï¸ é–‹å§‹éŠç© Motherloadï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.motherloadCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('https://omiplay.com/zh/games/motherload/', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('Motherload');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
        goHome() {
          // è¿”å›é¦–é 
          window.location.href = 'index.html';
        },
        loadPlayerData() {
          // å¾localStorageè®€å–ç©å®¶æ•¸æ“šï¼Œèˆ‡é¦–é ä¿æŒä¸€è‡´
          const totalStars = parseInt(localStorage.getItem('totalStars') || '0');
          this.totalStars = totalStars;
          
          // è®€å–å…¶ä»–ç©å®¶æ•¸æ“š
          const playerData = localStorage.getItem('playerData');
          if (playerData) {
            const data = JSON.parse(playerData);
            this.playerLevel = data.level || 1;
            this.totalStarsEarned = data.totalStarsEarned || 0;
            this.starsSpent = data.starsSpent || 0;
            this.nextLevelStars = data.nextLevelStars || 100;
          } else {
            // å¦‚æœæ²’æœ‰ playerDataï¼Œåˆå§‹åŒ–åŸºæœ¬æ•¸æ“š
            this.playerLevel = 1;
            this.totalStarsEarned = totalStars; // å‡è¨­æ‰€æœ‰æ˜Ÿæ˜Ÿéƒ½æ˜¯ç²å¾—çš„
            this.starsSpent = 0;
            this.nextLevelStars = 100;
          }
          
          // è®€å–éŠæˆ²å®Œæˆç‹€æ…‹
          const gameProgress = localStorage.getItem('gameProgress');
          if (gameProgress) {
            const progress = JSON.parse(gameProgress);
            this.completedGames = progress.completedGames || 0;
          }
        },
        saveGameProgress() {
          // ä¿å­˜éŠæˆ²é€²åº¦
          const progress = {
            completedGames: this.completedGames,
            lastPlayed: new Date().toISOString()
          };
          localStorage.setItem('gameProgress', JSON.stringify(progress));
        },
                 toggleCutTheRope() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.cutTheRopeCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.cutTheRopeCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç© Cut the Rope 2ã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.cutTheRopeCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸ® é–‹å§‹éŠç© Cut the Rope 2ï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.cutTheRopeCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           this.showCutTheRope = true;
         },
         toggleSlotMachine() {
           // ä½¿ç”¨æ–°çš„æ˜Ÿæ˜ŸèŠ±è²»ç³»çµ±
           if (!this.spendStars(this.slotMachineCost)) {
             alert(`âŒ æ˜Ÿæ˜Ÿä¸è¶³ï¼éœ€è¦ ${this.slotMachineCost} é¡†æ˜Ÿæ˜Ÿæ‰èƒ½éŠç©æ‹‰éœ¸æ©ŸéŠæˆ²ã€‚\n\nç›®å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†\néœ€è¦æ˜Ÿæ˜Ÿï¼š${this.slotMachineCost} é¡†`);
             return;
           }
           
           // é¡¯ç¤ºæ‰£é™¤è¨Šæ¯
           alert(`ğŸ° é–‹å§‹éŠç©æ‹‰éœ¸æ©ŸéŠæˆ²ï¼\n\næ‰£é™¤æ˜Ÿæ˜Ÿï¼š${this.slotMachineCost} é¡†\nå‰©é¤˜æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
           
           // é–‹å•ŸéŠæˆ²
           window.open('word_spin_game.html', '_blank');
           
           // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
           setTimeout(() => {
             this.simulateGameCompletion('æ‹‰éœ¸æ©ŸéŠæˆ²');
           }, 2000); // 2ç§’å¾Œæ¨¡æ“¬éŠæˆ²å®Œæˆ
         },
        closeCutTheRope() {
          this.showCutTheRope = false;
        },
        savePlayerData() {
          // ä¿å­˜æ˜Ÿæ˜Ÿåˆ°localStorageï¼Œèˆ‡é¦–é ä¿æŒä¸€è‡´
          localStorage.setItem('totalStars', this.totalStars.toString());
          
          // ä¿å­˜å…¶ä»–ç©å®¶æ•¸æ“šåˆ°localStorage
          const playerData = {
            level: this.playerLevel,
            totalStarsEarned: this.totalStarsEarned,
            starsSpent: this.starsSpent,
            nextLevelStars: this.nextLevelStars,
            lastUpdated: new Date().toISOString()
          };
          localStorage.setItem('playerData', JSON.stringify(playerData));
        },
        triggerStarsAnimation() {
          // è§¸ç™¼æ˜Ÿæ˜Ÿæ›´æ–°å‹•ç•«
          this.starsAnimation = true;
          setTimeout(() => {
            this.starsAnimation = false;
          }, 500);
        },
        // æ–°å¢æ˜Ÿæ˜Ÿç³»çµ±æ–¹æ³•
        earnStars(amount) {
          // ç²å¾—æ˜Ÿæ˜Ÿï¼Œèˆ‡é¦–é ä¿æŒä¸€è‡´
          const currentStars = parseInt(localStorage.getItem('totalStars') || '0');
          const newStars = currentStars + amount;
          
          // æ›´æ–°æœ¬åœ°æ•¸æ“š
          this.totalStars = newStars;
          this.totalStarsEarned += amount;
          this.starsEarned = amount;
          
          // æª¢æŸ¥æ˜¯å¦å¯ä»¥å‡ç´š
          this.checkLevelUp();
          
          // è§¸ç™¼å‹•ç•«
          this.triggerStarsAnimation();
          
          // ä¿å­˜æ•¸æ“š
          this.savePlayerData();
          
          // é¡¯ç¤ºç²å¾—è¨Šæ¯
          this.showStarsEarnedMessage(amount);
        },
        spendStars(amount) {
          // èŠ±è²»æ˜Ÿæ˜Ÿï¼Œèˆ‡é¦–é ä¿æŒä¸€è‡´
          const currentStars = parseInt(localStorage.getItem('totalStars') || '0');
          
          if (currentStars >= amount) {
            const newStars = currentStars - amount;
            
            // æ›´æ–°æœ¬åœ°æ•¸æ“š
            this.totalStars = newStars;
            this.starsSpent += amount;
            
            // è§¸ç™¼å‹•ç•«
            this.triggerStarsAnimation();
            
            // ä¿å­˜æ•¸æ“š
            this.savePlayerData();
            
            return true;
          }
          return false;
        },
        checkLevelUp() {
          // æª¢æŸ¥æ˜¯å¦å¯ä»¥å‡ç´š
          if (this.canLevelUp) {
            this.playerLevel++;
            this.nextLevelStars = this.playerLevel * 100;
            
            // é¡¯ç¤ºå‡ç´šè¨Šæ¯
            this.showLevelUpMessage();
          }
        },
        showStarsEarnedMessage(amount) {
          // é¡¯ç¤ºç²å¾—æ˜Ÿæ˜Ÿè¨Šæ¯
          const message = `ğŸ‰ æ­å–œç²å¾— ${amount} é¡†æ˜Ÿæ˜Ÿï¼\n\nç•¶å‰æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`;
          setTimeout(() => {
            alert(message);
          }, 100);
        },
        showLevelUpMessage() {
          // é¡¯ç¤ºå‡ç´šè¨Šæ¯
          const message = `ğŸŠ æ­å–œå‡ç´šï¼\n\næ–°ç­‰ç´šï¼š${this.playerLevel}\n\nç¹¼çºŒåŠªåŠ›ç²å¾—æ›´å¤šæ˜Ÿæ˜Ÿï¼`;
          setTimeout(() => {
            alert(message);
          }, 200);
        },
        // æ¨¡æ“¬éŠæˆ²å®Œæˆç²å¾—æ˜Ÿæ˜Ÿ
        simulateGameCompletion(gameName) {
          const starsReward = Math.floor(Math.random() * 50) + 10; // 10-60 é¡†æ˜Ÿæ˜Ÿ
          this.earnStars(starsReward);
          
          // é¡¯ç¤ºéŠæˆ²å®Œæˆè¨Šæ¯
          setTimeout(() => {
            alert(`ğŸ® ${gameName} éŠæˆ²å®Œæˆï¼\n\nç²å¾—æ˜Ÿæ˜Ÿï¼š${starsReward} é¡†\nç¸½æ˜Ÿæ˜Ÿï¼š${this.totalStars} é¡†`);
          }, 300);
        },
        
        // åŒæ­¥æ˜Ÿæ˜Ÿé¡¯ç¤ºï¼Œèˆ‡é¦–é ä¿æŒä¸€è‡´
        syncStarsDisplay() {
          // å¾ localStorage é‡æ–°è®€å–æ˜Ÿæ˜Ÿæ•¸é‡
          const currentStars = parseInt(localStorage.getItem('totalStars') || '0');
          this.totalStars = currentStars;
          
          // è§¸ç™¼å‹•ç•«
          this.triggerStarsAnimation();
        },
        
        // æª¢æŸ¥æ˜Ÿæ˜Ÿç³»çµ±ç‹€æ…‹
        checkStarsSystem() {
          const localStorageStars = parseInt(localStorage.getItem('totalStars') || '0');
          const localStars = this.totalStars;
          
          console.log('ğŸŒŸ æ˜Ÿæ˜Ÿç³»çµ±æª¢æŸ¥:');
          console.log('  localStorage æ˜Ÿæ˜Ÿ:', localStorageStars);
          console.log('  æœ¬åœ°æ˜Ÿæ˜Ÿ:', localStars);
          console.log('  æ˜¯å¦åŒæ­¥:', localStorageStars === localStars);
          
          if (localStorageStars !== localStars) {
            console.log('âš ï¸ æ˜Ÿæ˜Ÿä¸åŒæ­¥ï¼Œæ­£åœ¨ä¿®æ­£...');
            this.totalStars = localStorageStars;
            this.triggerStarsAnimation();
          }
        }
      },
      mounted() {
        // å¾localStorageè®€å–ç©å®¶æ•¸æ“š
        this.loadPlayerData();
        
        // åˆå§‹åŒ–èƒŒæ™¯éŸ³æ¨‚ç³»çµ±
        initBackgroundMusic();
        
        // æª¢æŸ¥æ˜Ÿæ˜Ÿç³»çµ±ç‹€æ…‹
        this.checkStarsSystem();
        
        // å®šæœŸåŒæ­¥æ˜Ÿæ˜Ÿé¡¯ç¤ºï¼Œç¢ºä¿èˆ‡é¦–é ä¿æŒä¸€è‡´
        setInterval(() => {
          this.syncStarsDisplay();
        }, 5000); // æ¯5ç§’åŒæ­¥ä¸€æ¬¡
        
        // å®šæœŸæª¢æŸ¥æ˜Ÿæ˜Ÿç³»çµ±ç‹€æ…‹
        setInterval(() => {
          this.checkStarsSystem();
        }, 10000); // æ¯10ç§’æª¢æŸ¥ä¸€æ¬¡
      }
    }).mount('#app');

    // èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶ç³»çµ±
    let backgroundMusic = null;
    let toggleMusicBtn = null;
    let isMusicPlaying = false;

    // æ’­æ”¾èƒŒæ™¯éŸ³æ¨‚
    function playBackgroundMusic() {
      if (!backgroundMusic) return;
      
      // æª¢æŸ¥æ˜¯å¦å·²ç¶“åœ¨æ’­æ”¾
      if (!backgroundMusic.paused) {
        console.log('ğŸµ éŸ³æ¨‚å·²åœ¨æ’­æ”¾ä¸­');
        return;
      }
      
      backgroundMusic.play().then(() => {
        isMusicPlaying = true;
        updateMusicButtonState();
        localStorage.setItem('bgMusicState', 'playing');
        console.log('ğŸµ èƒŒæ™¯éŸ³æ¨‚é–‹å§‹æ’­æ”¾');
      }).catch(err => {
        console.error('âŒ èƒŒæ™¯éŸ³æ¨‚æ’­æ”¾å¤±æ•—:', err);
        isMusicPlaying = false;
        updateMusicButtonState();
      });
    }

    // æš«åœèƒŒæ™¯éŸ³æ¨‚
    function pauseBackgroundMusic() {
      if (!backgroundMusic) return;
      
      backgroundMusic.pause();
      isMusicPlaying = false;
      updateMusicButtonState();
      localStorage.setItem('bgMusicState', 'paused');
      console.log('ğŸ”‡ èƒŒæ™¯éŸ³æ¨‚å·²æš«åœ');
    }

    // åˆ‡æ›èƒŒæ™¯éŸ³æ¨‚
    function toggleBackgroundMusic() {
      if (isMusicPlaying) {
        pauseBackgroundMusic();
      } else {
        playBackgroundMusic();
      }
    }

    // æ›´æ–°éŸ³æ¨‚æŒ‰éˆ•ç‹€æ…‹
    function updateMusicButtonState() {
      if (!toggleMusicBtn) return;
      
      if (isMusicPlaying) {
        toggleMusicBtn.style.background = 'rgba(0, 255, 255, 0.2)';
        toggleMusicBtn.innerHTML = '<span class="material-icons">ğŸ”Š</span>';
      } else {
        toggleMusicBtn.style.background = 'rgba(10, 20, 40, 0.85)';
        toggleMusicBtn.innerHTML = '<span class="material-icons">ğŸ”‡</span>';
      }
    }

    // åˆå§‹åŒ–èƒŒæ™¯éŸ³æ¨‚ç³»çµ±
    function initBackgroundMusic() {
      console.log('ğŸµ åˆå§‹åŒ–éŠæˆ²ä¸­å¿ƒèƒŒæ™¯éŸ³æ¨‚ç³»çµ±...');
      
      backgroundMusic = document.getElementById('backgroundMusic');
      toggleMusicBtn = document.getElementById('toggleMusic');
      
      if (!backgroundMusic) {
        console.error('âŒ æ‰¾ä¸åˆ°èƒŒæ™¯éŸ³æ¨‚å…ƒç´ ');
        return;
      }
      
      if (!toggleMusicBtn) {
        console.error('âŒ æ‰¾ä¸åˆ°éŸ³æ¨‚æ§åˆ¶æŒ‰éˆ•');
        return;
      }
      
      // è¨­å®šéŸ³æ¨‚å±¬æ€§
      backgroundMusic.volume = 0.3;
      backgroundMusic.loop = true;
      
      // é è¼‰å…¥éŸ³æ¨‚æª”æ¡ˆ
      backgroundMusic.load();
      
      // æª¢æŸ¥ä¸»é é¢çš„éŸ³æ¨‚ç‹€æ…‹
      const musicState = localStorage.getItem('bgMusicState');
      isMusicPlaying = musicState === 'playing';
      console.log('ğŸ”— ä¸»é é¢éŸ³æ¨‚ç‹€æ…‹:', isMusicPlaying);
      
      // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
      updateMusicButtonState();
      
      // å¦‚æœéŸ³æ¨‚æ‡‰è©²æ’­æ”¾ï¼Œå˜—è©¦æ’­æ”¾
      if (isMusicPlaying) {
        playBackgroundMusic();
      }
      
      console.log('âœ… éŠæˆ²ä¸­å¿ƒèƒŒæ™¯éŸ³æ¨‚ç³»çµ±åˆå§‹åŒ–å®Œæˆ');
    }

    // ç›£è½éŸ³æ¨‚æ§åˆ¶æŒ‰éˆ•é»æ“Š
    document.addEventListener('DOMContentLoaded', function() {
      // å»¶é²åˆå§‹åŒ–ï¼Œç¢ºä¿æ‰€æœ‰å…ƒç´ éƒ½å·²è¼‰å…¥
      setTimeout(() => {
        // ç¶å®šæŒ‰éˆ•äº‹ä»¶
        const musicBtn = document.getElementById('toggleMusic');
        if (musicBtn) {
          musicBtn.addEventListener('click', toggleBackgroundMusic);
          console.log('ğŸµ éŸ³æ¨‚æ§åˆ¶æŒ‰éˆ•äº‹ä»¶å·²ç¶å®š');
        }
        
        // æ·»åŠ ç”¨æˆ¶äº’å‹•è§¸ç™¼éŸ³æ¨‚æ’­æ”¾
        let hasUserInteracted = false;
        
        function handleUserInteraction() {
          if (!hasUserInteracted) {
            hasUserInteracted = true;
            console.log('ğŸ‘† ç”¨æˆ¶é¦–æ¬¡äº’å‹•ï¼Œå˜—è©¦æ’­æ”¾éŸ³æ¨‚');
            
            // å¦‚æœéŸ³æ¨‚æ‡‰è©²æ’­æ”¾ä½†é‚„æ²’é–‹å§‹ï¼Œç¾åœ¨å˜—è©¦æ’­æ”¾
            if (isMusicPlaying && backgroundMusic && backgroundMusic.paused) {
              playBackgroundMusic();
            }
            
            // ç§»é™¤äº‹ä»¶ç›£è½å™¨
            document.removeEventListener('click', handleUserInteraction);
            document.removeEventListener('keydown', handleUserInteraction);
            document.removeEventListener('touchstart', handleUserInteraction);
          }
        }
        
        // ç›£è½ç”¨æˆ¶äº’å‹•äº‹ä»¶
        document.addEventListener('click', handleUserInteraction);
        document.addEventListener('keydown', handleUserInteraction);
        document.addEventListener('touchstart', handleUserInteraction);
        
      }, 500);
    });

    // ç›£è½é é¢å¯è¦‹æ€§è®ŠåŒ–ï¼Œè™•ç†éŸ³æ¨‚æš«åœ/æ¢å¾©
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        // é é¢éš±è—æ™‚æš«åœéŸ³æ¨‚
        if (isMusicPlaying && backgroundMusic) {
          backgroundMusic.pause();
        }
      } else {
        // é é¢é¡¯ç¤ºæ™‚æ¢å¾©éŸ³æ¨‚
        if (isMusicPlaying && backgroundMusic && backgroundMusic.paused) {
          backgroundMusic.play().catch(err => {
            console.log('é é¢æ¢å¾©æ™‚éŸ³æ¨‚æ’­æ”¾å¤±æ•—:', err);
          });
        }
      }
    });
  </script>
</body>
</html> 
