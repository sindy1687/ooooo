<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>üì£ ÊúÄÊñ∞ÂÖ¨Âëä</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&family=Press+Start+2P&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body { 
      font-family: 'Exo 2', 'Noto Sans TC', sans-serif; 
      background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* ÊòüÁ©∫ËÉåÊôØ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: stars 20s linear infinite;
      z-index: -1;
    }

    @keyframes stars {
      from { transform: translateY(0px); }
      to { transform: translateY(-100px); }
    }

    /* Á≤íÂ≠êÊïàÊûú */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #00ffff;
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
    }

    /* Êñ∞Â¢ûÔºöÂãïÊÖãÂÖâÁ∑öÊïàÊûú */
    .light-rays {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .light-ray {
      position: absolute;
      width: 1px;
      height: 100px;
      background: linear-gradient(to bottom, transparent, rgba(0, 255, 255, 0.3), transparent);
      animation: lightRay 8s linear infinite;
    }

    @keyframes lightRay {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    #announcements { 
      max-width: 900px; 
      margin: 0 auto; 
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    .announcement {
      border-left: 4px solid #00ffff;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(15px);
      padding: 25px;
      margin: 25px 0;
      border-radius: 20px;
      box-shadow: 
        0 0 30px rgba(0, 255, 255, 0.3),
        0 0 60px rgba(0, 255, 255, 0.1),
        inset 0 0 30px rgba(0, 255, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateY(0);
    }

    .announcement::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }

    .announcement:hover::before {
      left: 100%;
    }

    .announcement:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 15px 40px rgba(0, 255, 255, 0.5),
        0 0 80px rgba(0, 255, 255, 0.3),
        inset 0 0 30px rgba(0, 255, 255, 0.15);
    }

    /* Êñ∞Â¢ûÔºöÂÖ¨ÂëäÂç°ÁâáÈÄ≤ÂÖ•ÂãïÁï´ */
    .announcement {
      animation: slideInUp 0.6s ease-out;
      animation-fill-mode: both;
    }

    .announcement:nth-child(1) { animation-delay: 0.1s; }
    .announcement:nth-child(2) { animation-delay: 0.2s; }
    .announcement:nth-child(3) { animation-delay: 0.3s; }
    .announcement:nth-child(4) { animation-delay: 0.4s; }
    .announcement:nth-child(5) { animation-delay: 0.5s; }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .üî¥ { 
      border-color: #ff4757; 
      background: rgba(255, 71, 87, 0.15);
      box-shadow: 
        0 0 30px rgba(255, 71, 87, 0.4),
        0 0 60px rgba(255, 71, 87, 0.2),
        inset 0 0 30px rgba(255, 71, 87, 0.1);
    }

    .üî¥ strong {
      color: #ff4757 !important;
      text-shadow: 0 0 15px #ff4757 !important;
    }
    
    .üü¢ { 
      border-color: #2ed573; 
      background: rgba(46, 213, 115, 0.15);
      box-shadow: 
        0 0 30px rgba(46, 213, 115, 0.4),
        0 0 60px rgba(46, 213, 115, 0.2),
        inset 0 0 30px rgba(46, 213, 115, 0.1);
    }
    
    .üîµ { 
      border-color: #3742fa; 
      background: rgba(55, 66, 250, 0.15);
      box-shadow: 
        0 0 30px rgba(55, 66, 250, 0.4),
        0 0 60px rgba(55, 66, 250, 0.2),
        inset 0 0 30px rgba(55, 66, 250, 0.1);
    }

    .announcement strong { 
      color: #ffffff; 
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      text-shadow: 0 0 15px #00ffff;
      font-size: 1.2em;
    }

    .announcement small { 
      display: block; 
      color: #ffffff; 
      margin-top: 15px; 
      font-size: 0.9em;
      font-family: 'Exo 2', sans-serif;
      opacity: 0.8;
    }

    .announcement {
      color: #ffffff;
      font-size: 1.1em;
      line-height: 1.6;
    }

    .header {
      text-align: center;
      margin-bottom: 50px;
      position: relative;
    }

    .header h2 {
      font-family: 'Press Start 2P', monospace;
      font-size: 2.2rem;
      font-weight: 900;
      color: #00ffff;
      text-shadow: 
        0 0 20px #00ffff,
        0 0 40px #00ffff,
        0 0 60px #00ffff;
      margin-bottom: 25px;
      letter-spacing: 2px;
      animation: glow 2s ease-in-out infinite alternate;
      position: relative;
    }

    .header h2::before {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      right: -10px;
      bottom: -10px;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      border-radius: 15px;
      z-index: -1;
      animation: borderGlow 3s ease-in-out infinite;
    }

    @keyframes borderGlow {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.8; }
    }

    @keyframes glow {
      from { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff, 0 0 60px #00ffff; }
      to { text-shadow: 0 0 30px #00ffff, 0 0 50px #00ffff, 0 0 70px #00ffff; }
    }

    .back-btn {
      display: inline-block;
      padding: 15px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      margin-bottom: 25px;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      font-size: 1.1em;
    }

    .back-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .refresh-btn {
      display: inline-block;
      padding: 15px 30px;
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      margin-left: 20px;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      font-size: 1.1em;
    }

    .refresh-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .error-message {
      background: rgba(255, 193, 7, 0.15);
      border: 1px solid rgba(255, 193, 7, 0.4);
      color: #ffc107;
      padding: 25px;
      border-radius: 20px;
      margin: 25px 0;
      backdrop-filter: blur(15px);
      box-shadow: 0 0 30px rgba(255, 193, 7, 0.3);
      font-size: 1.1em;
    }

    .loading {
      text-align: center;
      color: #00ffff;
      font-style: italic;
      font-size: 1.3em;
      font-family: 'Exo 2', sans-serif;
      text-shadow: 0 0 15px #00ffff;
      animation: pulse 1.5s ease-in-out infinite;
      padding: 40px;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    /* ÁßëÊäÄÊÑüË£ùÈ£æÂÖÉÁ¥† */
    .tech-decoration {
      position: absolute;
      width: 120px;
      height: 120px;
      border: 2px solid rgba(0, 255, 255, 0.4);
      border-radius: 50%;
      animation: rotate 12s linear infinite;
    }

    .tech-decoration::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }

    .tech-decoration::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80px;
      height: 80px;
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .decoration-1 {
      top: 8%;
      left: 3%;
      animation-delay: 0s;
    }

    .decoration-2 {
      top: 15%;
      right: 8%;
      animation-delay: -4s;
    }

    .decoration-3 {
      bottom: 12%;
      left: 12%;
      animation-delay: -8s;
    }

    .decoration-4 {
      bottom: 20%;
      right: 3%;
      animation-delay: -12s;
    }

    /* ÊâÄÊúâÊåâÈàïÂÆπÂô®Ê®£Âºè */
    .all-buttons-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin: 30px 0 40px 0;
      flex-wrap: wrap;
    }

    .comm-btn {
      display: inline-block;
      padding: 15px 30px;
      color: white;
      text-decoration: none;
      border-radius: 30px;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      font-size: 1.1em;
      position: relative;
      overflow: hidden;
    }

    .comm-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .comm-btn:hover::before {
      left: 100%;
    }

    .comm-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    /* Êñ∞Â¢ûÔºöÂÖ¨ÂëäÁµ±Ë®àË≥áË®ä */
    .stats-container {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .stat-item {
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 15px;
      padding: 15px 25px;
      text-align: center;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
    }

    .stat-number {
      font-size: 2em;
      font-weight: bold;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
    }

    /* Á∑äÊÄ•ÂÖ¨ÂëäÁµ±Ë®àÊï∏Â≠óÁÇ∫Á¥ÖËâ≤ */
    #urgentAnnouncements {
      color: #ff4757 !important;
      text-shadow: 0 0 10px #ff4757 !important;
    }

    .stat-label {
      color: #ffffff;
      font-size: 0.9em;
      margin-top: 5px;
    }

    /* Êñ∞Â¢ûÔºöÂÖ¨ÂëäÂàÜÈ°ûÊ®ôÁ±§ */
    .announcement-tags {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .tag {
      padding: 5px 12px;
      border-radius: 15px;
      font-size: 0.8em;
      font-weight: 600;
      background: rgba(0, 255, 255, 0.2);
      border: 1px solid rgba(0, 255, 255, 0.3);
      color: #00ffff;
    }

    /* ÈüøÊáâÂºèË®≠Ë®à */
    @media (max-width: 768px) {
      .header h2 {
        font-size: 1.5rem;
      }
      
      .all-buttons-container {
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }
      
      .stats-container {
        flex-direction: column;
        align-items: center;
      }
      
      .announcement {
        margin: 15px 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Á≤íÂ≠êÊïàÊûú -->
  <div class="particles" id="particles"></div>
  
  <!-- ÂãïÊÖãÂÖâÁ∑öÊïàÊûú -->
  <div class="light-rays" id="lightRays"></div>
  
  <!-- ÁßëÊäÄË£ùÈ£æ -->
  <div class="tech-decoration decoration-1"></div>
  <div class="tech-decoration decoration-2"></div>
  <div class="tech-decoration decoration-3"></div>
  <div class="tech-decoration decoration-4"></div>

  <div class="header">
    <h2>üì£ Á≥ªÁµ±ÂÖ¨Âëä</h2>
  </div>
  
  <!-- ÊâÄÊúâÊåâÈàïÊîæÂú®Âêå‰∏ÄÊéí -->
  <div class="all-buttons-container">
    <a href="index.html" class="back-btn">üè† ËøîÂõûÈ¶ñÈ†Å</a>
    <button class="refresh-btn" onclick="loadAnnouncements()">üîÑ ÈáçÊñ∞ËºâÂÖ•</button>
    <button class="comm-btn" onclick="testStats()" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);">
      üß™ Ê∏¨Ë©¶Áµ±Ë®à
    </button>
    <button class="comm-btn" onclick="location.href='feedback_cloud.html'" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      üí¨ Èõ≤Á´ØÁïôË®Ä
    </button>
    <button class="comm-btn" onclick="location.href='google_sheets_form.html'" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
      üì¨ Áé©ÂÆ∂‰ø°ÁÆ±
    </button>
  </div>
  
  <!-- ÂÖ¨ÂëäÁµ±Ë®àË≥áË®ä -->
  <div class="stats-container" id="statsContainer">
    <div class="stat-item">
      <div class="stat-number" id="totalAnnouncements">0</div>
      <div class="stat-label">Á∏ΩÂÖ¨ÂëäÊï∏</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="urgentAnnouncements">0</div>
      <div class="stat-label">Á∑äÊÄ•ÂÖ¨Âëä</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="infoAnnouncements">0</div>
      <div class="stat-label">Ë≥áË®äÂÖ¨Âëä</div>
    </div>
  </div>
  
  <div id="announcements">ËºâÂÖ•‰∏≠...</div>

  <script src="js/announcements.js"></script>
  <script>
    // Google Sheets API Á∂≤ÂùÄ
    const GOOGLE_SHEETS_API = "https://script.google.com/macros/s/AKfycbyfM8pLiWIjRsvg7u3rJ5Zh4XdKLFuScaQ5t_0yQviBp11IwOZSyrgZ-KFHkrJT43UBPg/exec";
    
    // Êú¨Âú∞ÂÇôÁî®ÂÖ¨ÂëäÊï∏Êìö
    const fallbackAnnouncements = [
      {
        type: "üî¥",
        content: "Á≥ªÁµ±Á∂≠Ë≠∑‰∏≠ÔºåÈÉ®ÂàÜÂäüËÉΩÂèØËÉΩÊö´ÊôÇÁÑ°Ê≥ï‰ΩøÁî®",
        time: "2024-01-15 10:00",
        tags: ["Á≥ªÁµ±", "Á∂≠Ë≠∑"]
      },
      {
        type: "üî¥",
        content: "Á∑äÊÄ•Êõ¥Êñ∞Ôºö‰øÆÂæ©Â∑≤Áü•ÂïèÈ°å",
        time: "2024-01-14 15:30",
        tags: ["Á∑äÊÄ•", "Êõ¥Êñ∞"]
      },
      {
        type: "üü¢",
        content: "Ê≠°Ëøé‰ΩøÁî®Ëã±ÊâìÂ∞èËã±ÈõÑÔºÅÊñ∞ÂäüËÉΩÈô∏Á∫åÊé®Âá∫‰∏≠",
        time: "2024-01-10 09:30",
        tags: ["Êñ∞ÂäüËÉΩ", "Ê≠°Ëøé"]
      },
      {
        type: "üîµ",
        content: "Â¶ÇÊúâÂïèÈ°åË´ãËÅØÁπ´ÂÆ¢ÊúçÊàñ‰ΩøÁî®Áé©ÂÆ∂‰ø°ÁÆ±ÂäüËÉΩ",
        time: "2024-01-05 14:20",
        tags: ["ÂÆ¢Êúç", "ÊîØÊè¥"]
      }
    ];

    // ÂâµÂª∫Á≤íÂ≠êÊïàÊûú
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      for (let i = 0; i < 60; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // ÂâµÂª∫ÂãïÊÖãÂÖâÁ∑öÊïàÊûú
    function createLightRays() {
      const lightRaysContainer = document.getElementById('lightRays');
      for (let i = 0; i < 8; i++) {
        const lightRay = document.createElement('div');
        lightRay.className = 'light-ray';
        lightRay.style.left = Math.random() * 100 + '%';
        lightRay.style.animationDelay = Math.random() * 8 + 's';
        lightRay.style.animationDuration = (Math.random() * 4 + 6) + 's';
        lightRaysContainer.appendChild(lightRay);
      }
    }

    // Êõ¥Êñ∞Áµ±Ë®àË≥áË®ä
    function updateStats(announcements) {
      console.log('ÈñãÂßãÊõ¥Êñ∞Áµ±Ë®à...');
      
      const statsContainer = document.getElementById('statsContainer');
      const totalAnnouncements = document.getElementById('totalAnnouncements');
      const urgentAnnouncements = document.getElementById('urgentAnnouncements');
      const infoAnnouncements = document.getElementById('infoAnnouncements');

      console.log('ÊâæÂà∞ÁöÑÂÖÉÁ¥†:', {
        statsContainer: !!statsContainer,
        totalAnnouncements: !!totalAnnouncements,
        urgentAnnouncements: !!urgentAnnouncements,
        infoAnnouncements: !!infoAnnouncements
      });

      if (!statsContainer || !totalAnnouncements || !urgentAnnouncements || !infoAnnouncements) {
        console.error('Áµ±Ë®àÂÖÉÁ¥†Êú™ÊâæÂà∞');
        return;
      }

      // Ë©≥Á¥∞Ë™øË©¶‰ø°ÊÅØ
      console.log('ÂÖ¨ÂëäÊï∏Êìö:', announcements);
      
      const urgent = announcements.filter(a => a.type === 'üî¥').length;
      const info = announcements.filter(a => a.type === 'üü¢' || a.type === 'üîµ').length;

      console.log('Á∑äÊÄ•ÂÖ¨ÂëäÈ°ûÂûãÊ™¢Êü•:', announcements.map(a => a.type));
      console.log('Á∑äÊÄ•ÂÖ¨ÂëäÊï∏Èáè:', urgent);
      console.log('Ë≥áË®äÂÖ¨ÂëäÊï∏Èáè:', info);

      totalAnnouncements.textContent = announcements.length;
      urgentAnnouncements.textContent = urgent;
      infoAnnouncements.textContent = info;

      console.log('Áµ±Ë®àÊõ¥Êñ∞ÂÆåÊàê:', { total: announcements.length, urgent, info });
    }

    function loadAnnouncements() {
      const box = document.getElementById("announcements");
      box.innerHTML = '<div class="loading">Ê≠£Âú®Âæû Google Sheets ËºâÂÖ•ÂÖ¨Âëä...</div>';

      // Âæû Google Sheets ËºâÂÖ•
      fetch(GOOGLE_SHEETS_API)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          console.log('Google Sheets ËºâÂÖ•ÊàêÂäü:', data);
          if (data && data.length > 0) {
            displayAnnouncements(data);
            updateStats(data);
          } else {
            throw new Error('No data received');
          }
        })
        .catch(error => {
          console.log('Google Sheets ËºâÂÖ•Â§±ÊïóÔºå‰ΩøÁî®Êú¨Âú∞Êï∏Êìö:', error);
          // Â¶ÇÊûú Google Sheets Â§±ÊïóÔºå‰ΩøÁî®Êú¨Âú∞Êï∏Êìö
          if (typeof localAnnouncements !== 'undefined' && localAnnouncements.length > 0) {
            console.log('‰ΩøÁî® localAnnouncementsÔºåÊï∏Èáè:', localAnnouncements.length);
            displayAnnouncements(localAnnouncements);
            updateStats(localAnnouncements);
          } else {
            console.log('‰ΩøÁî®ÂÇôÁî®ÂÖ¨ÂëäÊï∏ÊìöÔºåÊï∏Èáè:', fallbackAnnouncements.length);
            displayAnnouncements(fallbackAnnouncements);
            updateStats(fallbackAnnouncements);
          }
        });
    }

    function displayAnnouncements(announcements) {
      const box = document.getElementById("announcements");
      
      console.log('È°ØÁ§∫ÂÖ¨ÂëäÔºåÊï∏Êìö:', announcements);
      
      if (!announcements || announcements.length === 0) {
        box.innerHTML = `
          <div class="announcement" style="text-align: center; color: #ffc107;">
            <strong>üö´</strong> ÁõÆÂâçÊ≤íÊúâÂÖ¨Âëä
            <small>üïí ${new Date().toLocaleString()}</small>
          </div>
        `;
        // Âç≥‰ΩøÊ≤íÊúâÂÖ¨Âëä‰πüË¶ÅÊõ¥Êñ∞Áµ±Ë®à
        updateStats([]);
        return;
      }

      box.innerHTML = announcements.map((a, index) => `
        <div class="announcement ${a.type}" style="animation-delay: ${index * 0.1}s;">
          <strong>${a.type}</strong> ${a.content}
          <small>üïí ${a.time}</small>
          ${a.tags ? `
            <div class="announcement-tags">
              ${a.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
          ` : ''}
        </div>
      `).join("");
      
      console.log('ÂÖ¨ÂëäÈ°ØÁ§∫ÂÆåÊàê');
    }

    // Ê∏¨Ë©¶Áµ±Ë®àÂäüËÉΩ
    function testStats() {
      console.log('Ê∏¨Ë©¶Áµ±Ë®àÂäüËÉΩ...');
      const testData = [
        { type: "üî¥", content: "Ê∏¨Ë©¶Á∑äÊÄ•ÂÖ¨Âëä1", time: "2024-01-15 10:00" },
        { type: "üî¥", content: "Ê∏¨Ë©¶Á∑äÊÄ•ÂÖ¨Âëä2", time: "2024-01-14 15:30" },
        { type: "üü¢", content: "Ê∏¨Ë©¶Ë≥áË®äÂÖ¨Âëä", time: "2024-01-10 09:30" },
        { type: "üîµ", content: "Ê∏¨Ë©¶ËóçËâ≤ÂÖ¨Âëä", time: "2024-01-05 14:20" }
      ];
      updateStats(testData);
    }

    // È†ÅÈù¢ËºâÂÖ•ÊôÇÂü∑Ë°å
    document.addEventListener('DOMContentLoaded', function() {
      console.log('È†ÅÈù¢ËºâÂÖ•ÂÆåÊàê');
      createParticles();
      createLightRays();
      
      // Á´ãÂç≥Êõ¥Êñ∞Áµ±Ë®à
      updateStats(fallbackAnnouncements);
      
      loadAnnouncements();
      
      // Âª∂ÈÅ≤Ê∏¨Ë©¶Áµ±Ë®àÂäüËÉΩ
      setTimeout(testStats, 2000);
    });
  </script>
</body>
</html> 
