<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“£ æœ€æ–°å…¬å‘Š</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&family=Press+Start+2P&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body { 
      font-family: 'Exo 2', 'Noto Sans TC', sans-serif; 
      background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* æ˜Ÿç©ºèƒŒæ™¯ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: stars 20s linear infinite;
      z-index: -1;
    }

    @keyframes stars {
      from { transform: translateY(0px); }
      to { transform: translateY(-100px); }
    }

    /* ç²’å­æ•ˆæœ */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #00ffff;
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
    }

    /* æ–°å¢ï¼šå‹•æ…‹å…‰ç·šæ•ˆæœ */
    .light-rays {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .light-ray {
      position: absolute;
      width: 1px;
      height: 100px;
      background: linear-gradient(to bottom, transparent, rgba(0, 255, 255, 0.3), transparent);
      animation: lightRay 8s linear infinite;
    }

    @keyframes lightRay {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    #announcements { 
      max-width: 900px; 
      margin: 0 auto; 
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    .announcement {
      border-left: 4px solid #00ffff;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(15px);
      padding: 25px;
      margin: 25px 0;
      border-radius: 20px;
      box-shadow: 
        0 0 30px rgba(0, 255, 255, 0.3),
        0 0 60px rgba(0, 255, 255, 0.1),
        inset 0 0 30px rgba(0, 255, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateY(0);
    }

    .announcement::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }

    .announcement:hover::before {
      left: 100%;
    }

    .announcement:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 15px 40px rgba(0, 255, 255, 0.5),
        0 0 80px rgba(0, 255, 255, 0.3),
        inset 0 0 30px rgba(0, 255, 255, 0.15);
    }

    /* æ–°å¢ï¼šå…¬å‘Šå¡ç‰‡é€²å…¥å‹•ç•« */
    .announcement {
      animation: slideInUp 0.6s ease-out;
      animation-fill-mode: both;
    }

    .announcement:nth-child(1) { animation-delay: 0.1s; }
    .announcement:nth-child(2) { animation-delay: 0.2s; }
    .announcement:nth-child(3) { animation-delay: 0.3s; }
    .announcement:nth-child(4) { animation-delay: 0.4s; }
    .announcement:nth-child(5) { animation-delay: 0.5s; }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .ğŸ”´ { 
      border-color: #ff4757; 
      background: rgba(255, 71, 87, 0.15);
      box-shadow: 
        0 0 30px rgba(255, 71, 87, 0.4),
        0 0 60px rgba(255, 71, 87, 0.2),
        inset 0 0 30px rgba(255, 71, 87, 0.1);
    }

    .ğŸ”´ strong {
      color: #ff4757 !important;
      text-shadow: 0 0 15px #ff4757 !important;
    }
    
    .ğŸŸ¢ { 
      border-color: #2ed573; 
      background: rgba(46, 213, 115, 0.15);
      box-shadow: 
        0 0 30px rgba(46, 213, 115, 0.4),
        0 0 60px rgba(46, 213, 115, 0.2),
        inset 0 0 30px rgba(46, 213, 115, 0.1);
    }
    
    .ğŸ”µ { 
      border-color: #3742fa; 
      background: rgba(55, 66, 250, 0.15);
      box-shadow: 
        0 0 30px rgba(55, 66, 250, 0.4),
        0 0 60px rgba(55, 66, 250, 0.2),
        inset 0 0 30px rgba(55, 66, 250, 0.1);
    }

    .announcement strong { 
      color: #ffffff; 
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      text-shadow: 0 0 15px #00ffff;
      font-size: 1.2em;
    }

    .announcement small { 
      display: block; 
      color: #ffffff; 
      margin-top: 15px; 
      font-size: 0.9em;
      font-family: 'Exo 2', sans-serif;
      opacity: 0.8;
    }

    .announcement {
      color: #ffffff;
      font-size: 1.1em;
      line-height: 1.6;
    }

    .header {
      text-align: center;
      margin-bottom: 50px;
      position: relative;
    }

    .header h2 {
      font-family: 'Press Start 2P', monospace;
      font-size: 2.2rem;
      font-weight: 900;
      color: #00ffff;
      text-shadow: 
        0 0 20px #00ffff,
        0 0 40px #00ffff,
        0 0 60px #00ffff;
      margin-bottom: 25px;
      letter-spacing: 2px;
      animation: glow 2s ease-in-out infinite alternate;
      position: relative;
    }

    .header h2::before {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      right: -10px;
      bottom: -10px;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      border-radius: 15px;
      z-index: -1;
      animation: borderGlow 3s ease-in-out infinite;
    }

    @keyframes borderGlow {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.8; }
    }

    @keyframes glow {
      from { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff, 0 0 60px #00ffff; }
      to { text-shadow: 0 0 30px #00ffff, 0 0 50px #00ffff, 0 0 70px #00ffff; }
    }

    .back-btn {
      display: inline-block;
      padding: 15px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      margin-bottom: 25px;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      font-size: 1.1em;
    }

    .back-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .refresh-btn {
      display: inline-block;
      padding: 15px 30px;
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      margin-left: 20px;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      font-size: 1.1em;
    }

    .refresh-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .error-message {
      background: rgba(255, 193, 7, 0.15);
      border: 1px solid rgba(255, 193, 7, 0.4);
      color: #ffc107;
      padding: 25px;
      border-radius: 20px;
      margin: 25px 0;
      backdrop-filter: blur(15px);
      box-shadow: 0 0 30px rgba(255, 193, 7, 0.3);
      font-size: 1.1em;
    }

    .loading {
      text-align: center;
      color: #00ffff;
      font-style: italic;
      font-size: 1.3em;
      font-family: 'Exo 2', sans-serif;
      text-shadow: 0 0 15px #00ffff;
      animation: pulse 1.5s ease-in-out infinite;
      padding: 40px;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    /* ç§‘æŠ€æ„Ÿè£é£¾å…ƒç´  */
    .tech-decoration {
      position: absolute;
      width: 120px;
      height: 120px;
      border: 2px solid rgba(0, 255, 255, 0.4);
      border-radius: 50%;
      animation: rotate 12s linear infinite;
    }

    .tech-decoration::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }

    .tech-decoration::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80px;
      height: 80px;
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .decoration-1 {
      top: 8%;
      left: 3%;
      animation-delay: 0s;
    }

    .decoration-2 {
      top: 15%;
      right: 8%;
      animation-delay: -4s;
    }

    .decoration-3 {
      bottom: 12%;
      left: 12%;
      animation-delay: -8s;
    }

    .decoration-4 {
      bottom: 20%;
      right: 3%;
      animation-delay: -12s;
    }

    /* æ‰€æœ‰æŒ‰éˆ•å®¹å™¨æ¨£å¼ */
    .all-buttons-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin: 30px 0 40px 0;
      flex-wrap: wrap;
    }

    .comm-btn {
      display: inline-block;
      padding: 15px 30px;
      color: white;
      text-decoration: none;
      border-radius: 30px;
      transition: all 0.3s ease;
      font-family: 'Exo 2', sans-serif;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      font-size: 1.1em;
      position: relative;
      overflow: hidden;
    }

    .comm-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .comm-btn:hover::before {
      left: 100%;
    }

    .comm-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(255, 255, 255, 0.4);
    }

    /* æ–°å¢ï¼šå…¬å‘Šçµ±è¨ˆè³‡è¨Š */
    .stats-container {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .stat-item {
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 15px;
      padding: 15px 25px;
      text-align: center;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
    }

    .stat-number {
      font-size: 2em;
      font-weight: bold;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
    }

    /* ç·Šæ€¥å…¬å‘Šçµ±è¨ˆæ•¸å­—ç‚ºç´…è‰² */
    #urgentAnnouncements {
      color: #ff4757 !important;
      text-shadow: 0 0 10px #ff4757 !important;
    }

    .stat-label {
      color: #ffffff;
      font-size: 0.9em;
      margin-top: 5px;
    }

    /* æ–°å¢ï¼šå…¬å‘Šåˆ†é¡æ¨™ç±¤ */
    .announcement-tags {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .tag {
      padding: 5px 12px;
      border-radius: 15px;
      font-size: 0.8em;
      font-weight: 600;
      background: rgba(0, 255, 255, 0.2);
      border: 1px solid rgba(0, 255, 255, 0.3);
      color: #00ffff;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .header h2 {
        font-size: 1.5rem;
      }
      
      .all-buttons-container {
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }
      
      .stats-container {
        flex-direction: column;
        align-items: center;
      }
      
      .announcement {
        margin: 15px 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- ç²’å­æ•ˆæœ -->
  <div class="particles" id="particles"></div>
  
  <!-- å‹•æ…‹å…‰ç·šæ•ˆæœ -->
  <div class="light-rays" id="lightRays"></div>
  
  <!-- ç§‘æŠ€è£é£¾ -->
  <div class="tech-decoration decoration-1"></div>
  <div class="tech-decoration decoration-2"></div>
  <div class="tech-decoration decoration-3"></div>
  <div class="tech-decoration decoration-4"></div>

  <div class="header">
    <h2>ğŸ“£ ç³»çµ±å…¬å‘Š</h2>
  </div>
  
  <!-- æ‰€æœ‰æŒ‰éˆ•æ”¾åœ¨åŒä¸€æ’ -->
  <div class="all-buttons-container">
    <a href="index.html" class="back-btn">ğŸ  è¿”å›é¦–é </a>
    <button class="refresh-btn" onclick="loadAnnouncements()">ğŸ”„ é‡æ–°è¼‰å…¥</button>
    <button class="comm-btn" onclick="testStats()" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);">
      ğŸ§ª æ¸¬è©¦çµ±è¨ˆ
    </button>
    <button class="comm-btn" onclick="location.href='feedback_cloud.html'" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      ğŸ’¬ é›²ç«¯ç•™è¨€
    </button>
    <button class="comm-btn" onclick="location.href='google_sheets_form.html'" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
      ğŸ“¬ ç©å®¶ä¿¡ç®±
    </button>
  </div>
  
  <!-- å…¬å‘Šçµ±è¨ˆè³‡è¨Š -->
  <div class="stats-container" id="statsContainer">
    <div class="stat-item">
      <div class="stat-number" id="totalAnnouncements">0</div>
      <div class="stat-label">ç¸½å…¬å‘Šæ•¸</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="urgentAnnouncements">0</div>
      <div class="stat-label">ç·Šæ€¥å…¬å‘Š</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="infoAnnouncements">0</div>
      <div class="stat-label">è³‡è¨Šå…¬å‘Š</div>
    </div>
  </div>
  
  <div id="announcements">è¼‰å…¥ä¸­...</div>

  <script src="js/announcements.js"></script>
  <script>
    // Google Sheets API ç¶²å€
    const GOOGLE_SHEETS_API = "https://script.google.com/macros/s/AKfycbyfM8pLiWIjRsvg7u3rJ5Zh4XdKLFuScaQ5t_0yQviBp11IwOZSyrgZ-KFHkrJT43UBPg/exec";
    
    // æœ¬åœ°å‚™ç”¨å…¬å‘Šæ•¸æ“š
    const fallbackAnnouncements = [
      {
        type: "ğŸ”´",
        content: "ç³»çµ±ç¶­è­·ä¸­ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æš«æ™‚ç„¡æ³•ä½¿ç”¨",
        time: "2024-01-15 10:00",
        tags: ["ç³»çµ±", "ç¶­è­·"]
      },
      {
        type: "ğŸ”´",
        content: "ç·Šæ€¥æ›´æ–°ï¼šä¿®å¾©å·²çŸ¥å•é¡Œ",
        time: "2024-01-14 15:30",
        tags: ["ç·Šæ€¥", "æ›´æ–°"]
      },
      {
        type: "ğŸŸ¢",
        content: "æ­¡è¿ä½¿ç”¨è‹±æ‰“å°è‹±é›„ï¼æ–°åŠŸèƒ½é™¸çºŒæ¨å‡ºä¸­",
        time: "2024-01-10 09:30",
        tags: ["æ–°åŠŸèƒ½", "æ­¡è¿"]
      },
      {
        type: "ğŸ”µ",
        content: "å¦‚æœ‰å•é¡Œè«‹è¯ç¹«å®¢æœæˆ–ä½¿ç”¨ç©å®¶ä¿¡ç®±åŠŸèƒ½",
        time: "2024-01-05 14:20",
        tags: ["å®¢æœ", "æ”¯æ´"]
      }
    ];

    // å‰µå»ºç²’å­æ•ˆæœ
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      for (let i = 0; i < 60; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // å‰µå»ºå‹•æ…‹å…‰ç·šæ•ˆæœ
    function createLightRays() {
      const lightRaysContainer = document.getElementById('lightRays');
      for (let i = 0; i < 8; i++) {
        const lightRay = document.createElement('div');
        lightRay.className = 'light-ray';
        lightRay.style.left = Math.random() * 100 + '%';
        lightRay.style.animationDelay = Math.random() * 8 + 's';
        lightRay.style.animationDuration = (Math.random() * 4 + 6) + 's';
        lightRaysContainer.appendChild(lightRay);
      }
    }

    // æ›´æ–°çµ±è¨ˆè³‡è¨Š
    function updateStats(announcements) {
      console.log('é–‹å§‹æ›´æ–°çµ±è¨ˆ...');
      
      const statsContainer = document.getElementById('statsContainer');
      const totalAnnouncements = document.getElementById('totalAnnouncements');
      const urgentAnnouncements = document.getElementById('urgentAnnouncements');
      const infoAnnouncements = document.getElementById('infoAnnouncements');

      console.log('æ‰¾åˆ°çš„å…ƒç´ :', {
        statsContainer: !!statsContainer,
        totalAnnouncements: !!totalAnnouncements,
        urgentAnnouncements: !!urgentAnnouncements,
        infoAnnouncements: !!infoAnnouncements
      });

      if (!statsContainer || !totalAnnouncements || !urgentAnnouncements || !infoAnnouncements) {
        console.error('çµ±è¨ˆå…ƒç´ æœªæ‰¾åˆ°');
        return;
      }

      // è©³ç´°èª¿è©¦ä¿¡æ¯
      console.log('å…¬å‘Šæ•¸æ“š:', announcements);
      
      const urgent = announcements.filter(a => a.type === 'ğŸ”´').length;
      const info = announcements.filter(a => a.type === 'ğŸŸ¢' || a.type === 'ğŸ”µ').length;

      console.log('ç·Šæ€¥å…¬å‘Šé¡å‹æª¢æŸ¥:', announcements.map(a => a.type));
      console.log('ç·Šæ€¥å…¬å‘Šæ•¸é‡:', urgent);
      console.log('è³‡è¨Šå…¬å‘Šæ•¸é‡:', info);

      totalAnnouncements.textContent = announcements.length;
      urgentAnnouncements.textContent = urgent;
      infoAnnouncements.textContent = info;

      console.log('çµ±è¨ˆæ›´æ–°å®Œæˆ:', { total: announcements.length, urgent, info });
    }

    function loadAnnouncements() {
      const box = document.getElementById("announcements");
      box.innerHTML = '<div class="loading">æ­£åœ¨å¾ Google Sheets è¼‰å…¥å…¬å‘Š...</div>';

      // å¾ Google Sheets è¼‰å…¥
      fetch(GOOGLE_SHEETS_API)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          console.log('Google Sheets è¼‰å…¥æˆåŠŸ:', data);
          if (data && data.length > 0) {
            displayAnnouncements(data);
            updateStats(data);
          } else {
            throw new Error('No data received');
          }
        })
        .catch(error => {
          console.log('Google Sheets è¼‰å…¥å¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°æ•¸æ“š:', error);
          // å¦‚æœ Google Sheets å¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°æ•¸æ“š
          if (typeof localAnnouncements !== 'undefined' && localAnnouncements.length > 0) {
            console.log('ä½¿ç”¨ localAnnouncementsï¼Œæ•¸é‡:', localAnnouncements.length);
            displayAnnouncements(localAnnouncements);
            updateStats(localAnnouncements);
          } else {
            console.log('ä½¿ç”¨å‚™ç”¨å…¬å‘Šæ•¸æ“šï¼Œæ•¸é‡:', fallbackAnnouncements.length);
            displayAnnouncements(fallbackAnnouncements);
            updateStats(fallbackAnnouncements);
          }
        });
    }

    function displayAnnouncements(announcements) {
      const box = document.getElementById("announcements");
      
      console.log('é¡¯ç¤ºå…¬å‘Šï¼Œæ•¸æ“š:', announcements);
      
      if (!announcements || announcements.length === 0) {
        box.innerHTML = `
          <div class="announcement" style="text-align: center; color: #ffc107;">
            <strong>ğŸš«</strong> ç›®å‰æ²’æœ‰å…¬å‘Š
            <small>ğŸ•’ ${new Date().toLocaleString()}</small>
          </div>
        `;
        // å³ä½¿æ²’æœ‰å…¬å‘Šä¹Ÿè¦æ›´æ–°çµ±è¨ˆ
        updateStats([]);
        return;
      }

      box.innerHTML = announcements.map((a, index) => `
        <div class="announcement ${a.type}" style="animation-delay: ${index * 0.1}s;">
          <strong>${a.type}</strong> ${a.content}
          <small>ğŸ•’ ${a.time}</small>
          ${a.tags ? `
            <div class="announcement-tags">
              ${a.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
          ` : ''}
        </div>
      `).join("");
      
      console.log('å…¬å‘Šé¡¯ç¤ºå®Œæˆ');
    }

    // æ¸¬è©¦çµ±è¨ˆåŠŸèƒ½
    function testStats() {
      console.log('æ¸¬è©¦çµ±è¨ˆåŠŸèƒ½...');
      const testData = [
        { type: "ğŸ”´", content: "æ¸¬è©¦ç·Šæ€¥å…¬å‘Š1", time: "2024-01-15 10:00" },
        { type: "ğŸ”´", content: "æ¸¬è©¦ç·Šæ€¥å…¬å‘Š2", time: "2024-01-14 15:30" },
        { type: "ğŸŸ¢", content: "æ¸¬è©¦è³‡è¨Šå…¬å‘Š", time: "2024-01-10 09:30" },
        { type: "ğŸ”µ", content: "æ¸¬è©¦è—è‰²å…¬å‘Š", time: "2024-01-05 14:20" }
      ];
      updateStats(testData);
    }

    // é é¢è¼‰å…¥æ™‚åŸ·è¡Œ
    document.addEventListener('DOMContentLoaded', function() {
      console.log('é é¢è¼‰å…¥å®Œæˆ');
      createParticles();
      createLightRays();
      
      // ç«‹å³æ›´æ–°çµ±è¨ˆ
      updateStats(fallbackAnnouncements);
      
      loadAnnouncements();
      
      // å»¶é²æ¸¬è©¦çµ±è¨ˆåŠŸèƒ½
      setTimeout(testStats, 2000);
    });
  </script>
</body>
</html> 
